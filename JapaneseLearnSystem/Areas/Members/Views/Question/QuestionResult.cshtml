@model List<JapaneseLearnSystem.Areas.Members.Models.QuestionResult>

@{
    ViewData["Title"] = "答題結果";
    int total = Model.Count;
    int correct = Model.Count(q => q.IsCorrect);
}

<h2 class="mb-3">答題結果</h2>

<div class="alert alert-info">
    你總共答對 <strong>@correct / @total</strong> 題！
</div>

<table class="table table-bordered table-hover">
    <thead class="table-light">
        <tr>
            <th>#</th>
            <th>題目</th>
            <th>你的答案</th>
            <th>正確答案</th>
            <th>結果</th>
        </tr>
    </thead>
    <tbody>
        @for (int i = 0; i < Model.Count; i++)
        {
            var q = Model[i];
            <tr class="@(q.IsCorrect ? "table-success" : "table-danger")">
                <td>@(i + 1)</td>
                <td>@q.QuestionContent</td>
                <td>@q.UserAnswer</td>
                <td>@q.CorrectAnswer</td>
                <td>
                    @if (q.IsCorrect)
                    {
                        <span class="text-success fw-bold">✔ 正確</span>
                    }
                    else
                    {
                        <span class="text-danger fw-bold">✘ 錯誤</span>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>

<div class="mt-3">
    <a asp-action="Index" asp-controller="MemberCenter" asp-area="Members" class="btn btn-primary">
        返回會員中心
    </a>
    <a asp-action="PracticePrepare" asp-controller="Question" asp-area="Members" class="btn btn-secondary">
        再練一次
    </a>
</div>
