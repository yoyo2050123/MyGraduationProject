@model JapaneseLearnSystem.Areas.Members.Models.NoteListViewModel

@{
    ViewData["Title"] = "筆記區";
}

<h1 class="mb-3">筆記區</h1>

<div class="mb-3 d-flex justify-content-between align-items-center">
    <div>
        <strong>剩餘可新增筆記數：</strong>
        <span class="text-danger">@ViewBag.NotesRemaining</span>
    </div>
    <div>
        <a asp-action="Create" class="btn btn-success">新增筆記</a>
    </div>
</div>

<div id="notesTable">
    @await Html.PartialAsync("_NotesTable", Model)
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).on("click", ".page-btn", function() {
        var page = $(this).data("page");
        $.get("@Url.Action("NotesPartial", "Notes", new { area = "Members" })", { page: page }, function(result) {
            $("#notesTable").html(result);
        });
    });
</script>

<div class="mt-3">
    <a asp-controller="MemberCenter" asp-action="Index" class="btn btn-secondary">返回首頁</a>
</div>
